# Структура JavaScript в TaskForge

## Обзор
В проекте TaskForge JavaScript-код организован по модульному принципу, что обеспечивает лучшую поддерживаемость, тестируемость и переиспользуемость кода.

## Структура директорий

```
# Структура JavaScript в TaskForge

## Обзор
В проекте TaskForge JavaScript-код организован по модульному принципу, что обеспечивает лучшую поддерживаемость, тестируемость и переиспользуемость кода.

## Структура директорий

```
/main/static/js/
  ├── main.js                # Главный JavaScript файл (импортирует все остальные)
  │
  ├── components/            # Логика отдельных UI-компонентов
  │   ├── calendar.js        # Функционал календаря
  │   ├── modal.js           # Управление модальными окнами
  │   ├── progress-text.js   # Центрирование текста в кругах прогресса
  │   └── stats-dashboard.js # Статистический дашборд
  │
  └── utils/                 # Вспомогательные функции и утилиты
      └── templates.js       # Работа с шаблонами целей/привычек
```

## Принципы организации

1. **Основной скрипт (main.js)**:
   - Импортирует и инициализирует все компоненты и утилиты
   - Определяет глобальные функции для общего использования
   - Запускает инициализацию при DOMContentLoaded

2. **Компоненты**:
   - Отдельные модули для конкретных элементов интерфейса
   - Изолированная логика работы компонентов
   - Предоставляют публичный API в виде функций init[ComponentName]()

3. **Утилиты**:
   - Вспомогательные функции
   - Переиспользуемые в разных частях приложения
   - Не имеют прямой зависимости от компонентов

## Использование

Для использования JS в проекте достаточно импортировать только main.js в HTML. Он автоматически подключает все необходимые компоненты и утилиты:

```html
<script src="{% static 'js/main.js' %}"></script>
```

## Правила при разработке

1. **Новые компоненты**:
   - Создавайте отдельный файл в директории `/components` или `/utils`
   - Добавляйте импорт компонента в main.js
   - Экспортируйте публичный API через глобальные функции init[ComponentName]()
   - Используйте IIFE для инкапсуляции кода

2. **Именование**:
   - Используйте camelCase для имен функций и переменных
   - Используйте говорящие имена функций, отражающие их назначение
   - Функции инициализации компонентов: init[ComponentName]()

3. **События**:
   - Регистрируйте обработчики событий в функции инициализации компонента
   - Используйте делегирование событий где возможно
   - Отделяйте логику от представления

## Преимущества

- Улучшенная поддерживаемость кода за счет модульной структуры
- Возможность переиспользовать компоненты
- Четкое разделение ответственности
- Упрощение отладки и тестирования
- Единая точка входа для всех скриптов (main.js)
- Автоматическая загрузка всех необходимых компонентов
```

## Принципы организации

1. **Основные скрипты**:
   - Каждый скрипт отвечает за конкретную функциональную область
   - Все глобальные функции должны быть инкапсулированы в IIFE
   - События инициализируются через DOMContentLoaded

2. **Компоненты**:
   - Отдельные модули для конкретных элементов интерфейса
   - Изолированная логика работы компонентов
   - Минимальная связанность с другими компонентами

3. **Утилиты**:
   - Вспомогательные функции
   - Переиспользуемые в разных частях приложения
   - Не имеют прямой зависимости от компонентов

## Использование

Для использования JS в проекте импортируйте в HTML нужные скрипты. Базовый набор скриптов подключен в `base.html`:

```html
<script src="{% static 'js/main.js' %}"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
<script src="{% static 'js/calendar.js' %}"></script>
<script src="{% static 'js/templates.js' %}"></script>
<script src="{% static 'js/modal.js' %}"></script>
<script src="{% static 'js/stats-dashboard.js' %}"></script>
<script src="{% static 'js/components/progress-text.js' %}"></script>
```

## Правила при разработке

1. **Новые компоненты**:
   - Создавайте отдельный файл в соответствующей директории
   - Добавляйте импорт в нужные шаблоны
   - Используйте IIFE для инкапсуляции кода

2. **Именование**:
   - Используйте camelCase для имен функций и переменных
   - Используйте говорящие имена функций, отражающие их назначение

3. **События**:
   - Используйте делегирование событий где возможно
   - Отделяйте логику от представления

## Преимущества

- Улучшенная поддерживаемость кода
- Возможность переиспользовать компоненты
- Лучшее разделение ответственности
- Упрощение отладки и тестирования